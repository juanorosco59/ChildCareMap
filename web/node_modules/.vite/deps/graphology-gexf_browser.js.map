{
  "version": 3,
  "sources": ["../../graphology-utils/is-graph-constructor.js", "../../graphology-gexf/common/helpers.js", "../../graphology-gexf/browser/parser.js", "../../graphology-utils/is-graph.js", "../../xml-writer/lib/xml-writer.js", "../../xml-writer/index.js", "../../graphology-gexf/common/writer.js", "../../graphology-gexf/browser/index.js"],
  "sourcesContent": ["/**\r\n * Graphology isGraphConstructor\r\n * ==============================\r\n *\r\n * Very simple function aiming at ensuring the given variable is a\r\n * graphology constructor.\r\n */\r\n\r\n/**\r\n * Checking the value is a graphology constructor.\r\n *\r\n * @param  {any}     value - Target value.\r\n * @return {boolean}\r\n */\r\nmodule.exports = function isGraphConstructor(value) {\r\n  return (\r\n    value !== null &&\r\n    typeof value === 'function' &&\r\n    typeof value.prototype === 'object' &&\r\n    typeof value.prototype.addUndirectedEdgeWithKey === 'function' &&\r\n    typeof value.prototype.dropNode === 'function'\r\n  );\r\n};\r\n", "/**\r\n * Graphology Common GEXF Helpers\r\n * ===============================\r\n *\r\n * Miscellaneous helpers used by both instance of the code.\r\n */\r\n\r\n/**\r\n * Function used to cast a string value to the desired type.\r\n *\r\n * @param  {string} type - Value type.\r\n * @param  {string} type - String value.\r\n * @return {any}         - Parsed type.\r\n */\r\nexports.cast = function(type, value) {\r\n  switch (type) {\r\n    case 'boolean':\r\n      value = (value === 'true');\r\n      break;\r\n\r\n    case 'integer':\r\n    case 'long':\r\n    case 'float':\r\n    case 'double':\r\n      value = +value;\r\n      break;\r\n\r\n    case 'liststring':\r\n      value = value ? value.split('|') : [];\r\n      break;\r\n\r\n    default:\r\n  }\r\n\r\n  return value;\r\n};\r\n", "/* eslint no-self-compare: 0 */\r\n/**\r\n * Graphology Browser GEXF Parser\r\n * ===============================\r\n *\r\n * Browser version of the graphology GEXF parser.\r\n */\r\nvar isGraphConstructor = require('graphology-utils/is-graph-constructor'),\r\n    helpers = require('../common/helpers.js');\r\n\r\nvar cast = helpers.cast;\r\n\r\n/**\r\n * Function checking whether the given value is a NaN.\r\n *\r\n * @param  {any} value - Value to test.\r\n * @return {boolean}\r\n */\r\nfunction isReallyNaN(value) {\r\n  return value !== value;\r\n}\r\n\r\n/**\r\n * Function used to convert a viz:color attribute into a CSS rgba? string.\r\n *\r\n * @param  {Node}   element - DOM element.\r\n * @return {string}\r\n */\r\nfunction toRGBString(element) {\r\n  var a = element.getAttribute('a'),\r\n      r = element.getAttribute('r'),\r\n      g = element.getAttribute('g'),\r\n      b = element.getAttribute('b');\r\n\r\n  return a ?\r\n    ('rgba(' + r + ',' + g + ',' + b + ',' + a + ')') :\r\n    ('rgb(' + r + ',' + g + ',' + b + ')');\r\n}\r\n\r\n/**\r\n * Function returning the first matching tag of the `viz` namespace matching\r\n * the desired tag name.\r\n *\r\n * @param  {Node}   element - Target DOM element.\r\n * @param  {string} name    - Tag name.\r\n * @return {Node}\r\n */\r\nfunction getFirstMatchingVizTag(element, name) {\r\n  var vizElement = element.getElementsByTagName('viz:' + name)[0];\r\n\r\n  if (!vizElement)\r\n    vizElement = element.getElementsByTagNameNS('viz', name)[0];\r\n\r\n  if (!vizElement)\r\n    vizElement = element.getElementsByTagName(name)[0];\r\n\r\n  return vizElement;\r\n}\r\n\r\n/**\r\n * Function used to collect meta information.\r\n *\r\n * @param  {Array<Node>} elements - Target DOM element.\r\n * @return {object}\r\n */\r\nfunction collectMeta(elements) {\r\n  var meta = {},\r\n      element;\r\n\r\n  for (var i = 0, l = elements.length; i < l; i++) {\r\n    element = elements[i];\r\n\r\n    if (element.nodeName === '#text')\r\n      continue;\r\n\r\n    meta[element.tagName.toLowerCase()] = element.textContent;\r\n  }\r\n\r\n  return meta;\r\n}\r\n\r\n/**\r\n * Function used to extract the model from the right elements.\r\n *\r\n * @param  {Array<Node>} elements - Target DOM elements.\r\n * @return {array}                - The model & default attributes.\r\n */\r\nfunction extractModel(elements) {\r\n  var model = {},\r\n      defaults = {},\r\n      element,\r\n      defaultElement,\r\n      id;\r\n\r\n  for (var i = 0, l = elements.length; i < l; i++) {\r\n    element = elements[i];\r\n    id = element.getAttribute('id') || element.getAttribute('for');\r\n\r\n    model[id] = {\r\n      id: id,\r\n      type: element.getAttribute('type') || 'string',\r\n      title: !isReallyNaN(+id) ?\r\n        (element.getAttribute('title') || id) :\r\n        id\r\n    };\r\n\r\n    // Default?\r\n    defaultElement = element.getElementsByTagName('default')[0];\r\n\r\n    if (defaultElement)\r\n      defaults[model[id].title] = cast(\r\n        model[id].type,\r\n        defaultElement.textContent\r\n      );\r\n  }\r\n\r\n  return [model, defaults];\r\n}\r\n\r\n/**\r\n * Function used to collect an element's attributes.\r\n *\r\n * @param  {object} model   - Data model to use.\r\n * @param  {Node}   element - Target DOM element.\r\n * @return {object}         - The collected attributes.\r\n */\r\nfunction collectAttributes(model, element) {\r\n  var data = {},\r\n      label = element.getAttribute('label'),\r\n      weight = element.getAttribute('weight');\r\n\r\n  if (label)\r\n    data.label = label;\r\n\r\n  if (weight)\r\n    data.weight = +weight;\r\n\r\n  var valueElements = element.getElementsByTagName('attvalue'),\r\n      valueElement,\r\n      id;\r\n\r\n  for (var i = 0, l = valueElements.length; i < l; i++) {\r\n    valueElement = valueElements[i];\r\n    id = (\r\n      valueElement.getAttribute('id') ||\r\n      valueElement.getAttribute('for')\r\n    );\r\n\r\n    data[model[id].title] = cast(\r\n      model[id].type,\r\n      valueElement.getAttribute('value')\r\n    );\r\n  }\r\n\r\n  // TODO: shortcut here to avoid viz when namespace is not set\r\n\r\n  // Attempting to find viz namespace tags\r\n\r\n  //-- 1) Color\r\n  var vizElement = getFirstMatchingVizTag(element, 'color');\r\n\r\n  if (vizElement)\r\n    data.color = toRGBString(vizElement);\r\n\r\n  //-- 2) Size\r\n  vizElement = getFirstMatchingVizTag(element, 'size');\r\n\r\n  if (vizElement)\r\n    data.size = +vizElement.getAttribute('value');\r\n\r\n  //-- 3) Position\r\n  var x, y, z;\r\n\r\n  vizElement = getFirstMatchingVizTag(element, 'position');\r\n\r\n  if (vizElement) {\r\n    x = vizElement.getAttribute('x');\r\n    y = vizElement.getAttribute('y');\r\n    z = vizElement.getAttribute('z');\r\n\r\n    if (x)\r\n      data.x = +x;\r\n    if (y)\r\n      data.y = +y;\r\n    if (z)\r\n      data.z = +z;\r\n  }\r\n\r\n  //-- 4) Shape\r\n  vizElement = getFirstMatchingVizTag(element, 'shape');\r\n\r\n  if (vizElement)\r\n    data.shape = vizElement.getAttribute('value');\r\n\r\n  //-- 5) Thickness\r\n  vizElement = getFirstMatchingVizTag(element, 'thickness');\r\n\r\n  if (vizElement)\r\n    data.thickness = +vizElement.getAttribute('value');\r\n\r\n  return data;\r\n}\r\n\r\n/**\r\n * Function taking either a string or a document and returning a\r\n * graphology instance.\r\n *\r\n * @param  {function}        Graph  - A graphology constructor.\r\n * @param  {string|Document} source - The source to parse.\r\n */\r\n\r\n// TODO: option to map the data to the attributes for customization, nodeModel, edgeModel, nodeReducer, edgeReducer\r\n// TODO: option to disable the model mapping heuristic\r\nmodule.exports = function parse(Graph, source) {\r\n  var xmlDoc = source;\r\n\r\n  var element,\r\n      result,\r\n      type,\r\n      attributes,\r\n      id,\r\n      s,\r\n      t,\r\n      i,\r\n      l;\r\n\r\n  if (!isGraphConstructor(Graph))\r\n    throw new Error('graphology-gexf/browser/parser: invalid Graph constructor.');\r\n\r\n  // If source is a string, we are going to parse it\r\n  if (typeof source === 'string')\r\n    xmlDoc = (new DOMParser()).parseFromString(source, 'application/xml');\r\n\r\n  if (!(xmlDoc instanceof Document))\r\n    throw new Error('graphology-gexf/browser/parser: source should either be a XML document or a string.');\r\n\r\n  // Finding useful elements\r\n  var GRAPH_ELEMENT = xmlDoc.getElementsByTagName('graph')[0],\r\n      META_ELEMENT = xmlDoc.getElementsByTagName('meta')[0],\r\n      META_ELEMENTS = (META_ELEMENT && META_ELEMENT.childNodes) || [],\r\n      NODE_ELEMENTS = xmlDoc.getElementsByTagName('node'),\r\n      EDGE_ELEMENTS = xmlDoc.getElementsByTagName('edge'),\r\n      MODEL_ELEMENTS = xmlDoc.getElementsByTagName('attributes'),\r\n      NODE_MODEL_ELEMENTS = [],\r\n      EDGE_MODEL_ELEMENTS = [];\r\n\r\n  for (i = 0, l = MODEL_ELEMENTS.length; i < l; i++) {\r\n    element = MODEL_ELEMENTS[i];\r\n\r\n    if (element.getAttribute('class') === 'node')\r\n      NODE_MODEL_ELEMENTS = element.getElementsByTagName('attribute');\r\n    else if (element.getAttribute('class') === 'edge')\r\n      EDGE_MODEL_ELEMENTS = element.getElementsByTagName('attribute');\r\n  }\r\n\r\n  // Information\r\n  var DEFAULT_EDGE_TYPE = GRAPH_ELEMENT.getAttribute('defaultedgetype') || 'undirected';\r\n\r\n  if (DEFAULT_EDGE_TYPE === 'mutual')\r\n    DEFAULT_EDGE_TYPE = 'undirected';\r\n\r\n  // Computing models\r\n  result = extractModel(NODE_MODEL_ELEMENTS);\r\n\r\n  var NODE_MODEL = result[0],\r\n      NODE_DEFAULT_ATTRIBUTES = result[1];\r\n\r\n  result = extractModel(EDGE_MODEL_ELEMENTS);\r\n\r\n  var EDGE_MODEL = result[0],\r\n      EDGE_DEFAULT_ATTRIBUTES = result[1];\r\n\r\n  // Polling the first edge to guess the type of the edges\r\n  var graphType = EDGE_ELEMENTS[0] ?\r\n    (EDGE_ELEMENTS[0].getAttribute('type') || DEFAULT_EDGE_TYPE) :\r\n    'mixed';\r\n\r\n  // Instantiating our graph\r\n  var graph = new Graph({\r\n    type: graphType,\r\n    defaultNodeAttributes: NODE_DEFAULT_ATTRIBUTES,\r\n    defaultEdgeAttributes: EDGE_DEFAULT_ATTRIBUTES\r\n  });\r\n\r\n  // Collecting meta\r\n  var meta = collectMeta(META_ELEMENTS),\r\n      lastModifiedDate = META_ELEMENT && META_ELEMENT.getAttribute('lastmodifieddate');\r\n\r\n  graph.replaceAttributes(meta);\r\n\r\n  if (lastModifiedDate)\r\n    graph.setAttribute('lastModifiedDate', lastModifiedDate);\r\n\r\n  // Adding nodes\r\n  for (i = 0, l = NODE_ELEMENTS.length; i < l; i++) {\r\n    element = NODE_ELEMENTS[i];\r\n\r\n    graph.addNode(\r\n      element.getAttribute('id'),\r\n      collectAttributes(NODE_MODEL, element)\r\n    );\r\n  }\r\n\r\n  // Adding edges\r\n  for (i = 0, l = EDGE_ELEMENTS.length; i < l; i++) {\r\n    element = EDGE_ELEMENTS[i];\r\n\r\n    id = element.getAttribute('id');\r\n    type = element.getAttribute('type') || DEFAULT_EDGE_TYPE;\r\n    s = element.getAttribute('source');\r\n    t = element.getAttribute('target');\r\n    attributes = collectAttributes(EDGE_MODEL, element);\r\n\r\n    // If we encountered an edge with a different type, we upgrade the graph\r\n    if (type !== graph.type && graph.type !== 'mixed') {\r\n      graph.upgradeToMixed();\r\n    }\r\n\r\n    // If we encountered twice the same edge, we upgrade the graph\r\n    if (\r\n      !graph.multi &&\r\n      (\r\n        (type === 'directed' && graph.hasDirectedEdge(s, t)) ||\r\n        (graph.hasUndirectedEdge(s, t))\r\n      )\r\n    ) {\r\n      graph.upgradeToMulti();\r\n    }\r\n\r\n    if (id) {\r\n      if (type === 'directed')\r\n        graph.addDirectedEdgeWithKey(id, s, t, attributes);\r\n      else\r\n        graph.addUndirectedEdgeWithKey(id, s, t, attributes);\r\n    }\r\n    else {\r\n      if (type === 'directed')\r\n        graph.addDirectedEdge(s, t, attributes);\r\n      else\r\n        graph.addUndirectedEdge(s, t, attributes);\r\n    }\r\n  }\r\n\r\n  return graph;\r\n};\r\n", "/**\r\n * Graphology isGraph\r\n * ===================\r\n *\r\n * Very simple function aiming at ensuring the given variable is a\r\n * graphology instance.\r\n */\r\n\r\n/**\r\n * Checking the value is a graphology instance.\r\n *\r\n * @param  {any}     value - Target value.\r\n * @return {boolean}\r\n */\r\nmodule.exports = function isGraph(value) {\r\n  return (\r\n    value !== null &&\r\n    typeof value === 'object' &&\r\n    typeof value.addUndirectedEdgeWithKey === 'function' &&\r\n    typeof value.dropNode === 'function' &&\r\n    typeof value.multi === 'boolean'\r\n  );\r\n};\r\n", "\r\nfunction isFalse(s) {\r\n  return typeof s !== 'number' && !s;\r\n}\r\n\r\nfunction strval(s) {\r\n  if (typeof s == 'string') {\r\n    return s;\r\n  }\r\n  else if (typeof s == 'number') {\r\n    return s+'';\r\n  }\r\n  else if (typeof s == 'function') {\r\n    return s();\r\n  }\r\n  else if (s instanceof XMLWriter) {\r\n    return s.toString();\r\n  }\r\n  else throw Error('Bad Parameter');\r\n}\r\n\r\nfunction XMLWriter(indent, callback) {\r\n\r\n    if (!(this instanceof XMLWriter)) {\r\n        return new XMLWriter();\r\n    }\r\n\r\n    this.name_regex = /[_:A-Za-z][-._:A-Za-z0-9]*/;\r\n    this.indent = indent ? true : false;\r\n    this.indentString = this.indent && typeof indent === 'string' ? indent : '    ';\r\n    this.output = '';\r\n    this.stack = [];\r\n    this.tags = 0;\r\n    this.attributes = 0;\r\n    this.attribute = 0;\r\n    this.texts = 0;\r\n    this.comment = 0;\r\n    this.dtd = 0;\r\n    this.root = '';\r\n    this.pi = 0;\r\n    this.cdata = 0;\r\n    this.started_write = false;\r\n    this.writer;\r\n    this.writer_encoding = 'UTF-8';\r\n\r\n    if (typeof callback == 'function') {\r\n        this.writer = callback;\r\n    } else {\r\n        this.writer = function (s, e) {\r\n            this.output += s;\r\n        }\r\n    }\r\n}\r\n\r\nXMLWriter.prototype = {\r\n    toString : function () {\r\n        this.flush();\r\n        return this.output;\r\n    },\r\n\r\n    indenter : function () {\r\n      if (this.indent) {\r\n        this.write('\\n');\r\n        for (var i = 1; i < this.tags; i++) {\r\n          this.write(this.indentString);\r\n        }\r\n      }\r\n    },\r\n\r\n    write : function () {\r\n        for (var i = 0; i < arguments.length; i++) {\r\n            this.writer(arguments[i], this.writer_encoding);\r\n        }\r\n    },\r\n\r\n\r\n    flush : function () {\r\n        for (var i = this.tags; i > 0; i--) {\r\n            this.endElement();\r\n        }\r\n        this.tags = 0;\r\n    },\r\n\r\n    startDocument : function (version, encoding, standalone) {\r\n        if (this.tags || this.attributes) return this;\r\n\r\n        this.startPI('xml');\r\n        this.startAttribute('version');\r\n        this.text(typeof version == \"string\" ? version : \"1.0\");\r\n        this.endAttribute();\r\n        if (typeof encoding == \"string\") {\r\n            this.startAttribute('encoding');\r\n            this.text(encoding);\r\n            this.endAttribute();\r\n            this.writer_encoding = encoding;\r\n        }\r\n        if (standalone) {\r\n            this.startAttribute('standalone');\r\n            this.text(\"yes\");\r\n            this.endAttribute();\r\n        }\r\n        this.endPI();\r\n        if (!this.indent) {\r\n          this.write('\\n');\r\n        }\r\n        return this;\r\n    },\r\n\r\n    endDocument : function () {\r\n        if (this.attributes) this.endAttributes();\r\n        return this;\r\n    },\r\n\r\n    writeElement : function (name, content) {\r\n        return this.startElement(name).text(content).endElement();\r\n    },\r\n\r\n    writeElementNS : function (prefix, name, uri, content) {\r\n        if (!content) {\r\n            content = uri;\r\n        }\r\n        return this.startElementNS(prefix, name, uri).text(content).endElement();\r\n    },\r\n\r\n    startElement : function (name) {\r\n        name = strval(name);\r\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\r\n        if (this.tags === 0 && this.root && this.root !== name) throw Error('Invalid Parameter');\r\n        if (this.attributes) this.endAttributes();\r\n        ++this.tags;\r\n        this.texts = 0;\r\n        if (this.stack.length > 0)\r\n          this.stack[this.stack.length-1].containsTag = true;\r\n\r\n        this.stack.push({\r\n            name: name,\r\n            tags: this.tags\r\n        });\r\n        if (this.started_write) this.indenter();\r\n        this.write('<', name);\r\n        this.startAttributes();\r\n        this.started_write = true;\r\n        return this;\r\n    },\r\n    startElementNS : function (prefix, name, uri) {\r\n        prefix = strval(prefix);\r\n        name = strval(name);\r\n\r\n        if (!prefix.match(this.name_regex)) throw Error('Invalid Parameter');\r\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\r\n        if (this.attributes) this.endAttributes();\r\n        ++this.tags;\r\n        this.texts = 0;\r\n        if (this.stack.length > 0)\r\n          this.stack[this.stack.length-1].containsTag = true;\r\n\r\n        this.stack.push({\r\n            name: prefix + ':' + name,\r\n            tags: this.tags\r\n        });\r\n        if (this.started_write) this.indenter();\r\n        this.write('<', prefix + ':' + name);\r\n        this.startAttributes();\r\n        this.started_write = true;\r\n        return this;\r\n    },\r\n\r\n    endElement : function () {\r\n        if (!this.tags) return this;\r\n        var t = this.stack.pop();\r\n        if (this.attributes > 0) {\r\n            if (this.attribute) {\r\n                if (this.texts) this.endAttribute();\r\n                this.endAttribute();\r\n            }\r\n            this.write('/');\r\n            this.endAttributes();\r\n        } else {\r\n            if (t.containsTag) this.indenter();\r\n            this.write('</', t.name, '>');\r\n        }\r\n        --this.tags;\r\n        this.texts = 0;\r\n        return this;\r\n    },\r\n\r\n    writeAttribute : function (name, content) {\r\n        if (typeof content == 'function') {\r\n          content = content();\r\n        }\r\n        if (isFalse(content)) {\r\n           return this;\r\n        }\r\n        return this.startAttribute(name).text(content).endAttribute();\r\n    },\r\n    writeAttributeNS : function (prefix, name, uri, content) {\r\n        if (!content) {\r\n            content = uri;\r\n        }\r\n        if (typeof content == 'function') {\r\n          content = content();\r\n        }\r\n        if (isFalse(content)) {\r\n          return this;\r\n        }\r\n        return this.startAttributeNS(prefix, name, uri).text(content).endAttribute();\r\n    },\r\n\r\n    startAttributes : function () {\r\n        this.attributes = 1;\r\n        return this;\r\n    },\r\n\r\n    endAttributes : function () {\r\n        if (!this.attributes) return this;\r\n        if (this.attribute) this.endAttribute();\r\n        this.attributes = 0;\r\n        this.attribute = 0;\r\n        this.texts = 0;\r\n        this.write('>');\r\n        return this;\r\n    },\r\n\r\n    startAttribute : function (name) {\r\n        name = strval(name);\r\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\r\n        if (!this.attributes && !this.pi) return this;\r\n        if (this.attribute) return this;\r\n        this.attribute = 1;\r\n        this.write(' ', name, '=\"');\r\n        return this;\r\n    },\r\n    startAttributeNS : function (prefix, name, uri) {\r\n        prefix = strval(prefix);\r\n        name = strval(name);\r\n\r\n        if (!prefix.match(this.name_regex)) throw Error('Invalid Parameter');\r\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\r\n        if (!this.attributes && !this.pi) return this;\r\n        if (this.attribute) return this;\r\n        this.attribute = 1;\r\n        this.write(' ', prefix + ':' + name, '=\"');\r\n        return this;\r\n    },\r\n    endAttribute : function () {\r\n        if (!this.attribute) return this;\r\n        this.attribute = 0;\r\n        this.texts = 0;\r\n        this.write('\"');\r\n        return this;\r\n    },\r\n\r\n    text : function (content) {\r\n        content = strval(content);\r\n        if (!this.tags && !this.comment && !this.pi && !this.cdata) return this;\r\n        if (this.attributes && this.attribute) {\r\n            ++this.texts;\r\n            this.write(content\r\n                       .replace(/&/g, '&amp;')\r\n                       .replace(/</g, '&lt;')\r\n                       .replace(/\"/g, '&quot;')\r\n                       .replace(/\\t/g, '&#x9;')\r\n                       .replace(/\\n/g, '&#xA;')\r\n                       .replace(/\\r/g, '&#xD;')\r\n                      );\r\n            return this;\r\n        } else if (this.attributes && !this.attribute) {\r\n            this.endAttributes();\r\n        }\r\n        if (this.comment || this.cdata) {\r\n            this.write(content);\r\n        }\r\n        else {\r\n          this.write(content.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;'));\r\n        }\r\n        ++this.texts;\r\n        this.started_write = true;\r\n        return this;\r\n    },\r\n\r\n    writeComment : function (content) {\r\n        return this.startComment().text(content).endComment();\r\n    },\r\n\r\n    startComment : function () {\r\n        if (this.comment) return this;\r\n        if (this.attributes) this.endAttributes();\r\n        this.indenter();\r\n        this.write('<!--');\r\n        this.comment = 1;\r\n        this.started_write = true;\r\n        return this;\r\n    },\r\n\r\n    endComment : function () {\r\n        if (!this.comment) return this;\r\n        this.write('-->');\r\n        this.comment = 0;\r\n        return this;\r\n    },\r\n\r\n    writeDocType : function (name, pubid, sysid, subset) {\r\n        return this.startDocType(name, pubid, sysid, subset).endDocType()\r\n    },\r\n\r\n    startDocType : function (name, pubid, sysid, subset) {\r\n        if (this.dtd || this.tags) return this;\r\n\r\n        name = strval(name);\r\n        pubid = pubid ? strval(pubid) : pubid;\r\n        sysid = sysid ? strval(sysid) : sysid;\r\n        subset = subset ? strval(subset) : subset;\r\n\r\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\r\n        if (pubid && !pubid.match(/^[\\w\\-][\\w\\s\\-\\/\\+\\:\\.]*/)) throw Error('Invalid Parameter');\r\n        if (sysid && !sysid.match(/^[\\w\\.][\\w\\-\\/\\\\\\:\\.]*/)) throw Error('Invalid Parameter');\r\n        if (subset && !subset.match(/[\\w\\s\\<\\>\\+\\.\\!\\#\\-\\?\\*\\,\\(\\)\\|]*/)) throw Error('Invalid Parameter');\r\n\r\n        pubid = pubid ? ' PUBLIC \"' + pubid + '\"' : (sysid) ? ' SYSTEM' : '';\r\n        sysid = sysid ? ' \"' + sysid + '\"' : '';\r\n        subset = subset ? ' [' + subset + ']': '';\r\n\r\n        if (this.started_write) this.indenter();\r\n        this.write('<!DOCTYPE ', name, pubid, sysid, subset);\r\n        this.root = name;\r\n        this.dtd = 1;\r\n        this.started_write = true;\r\n        return this;\r\n    },\r\n\r\n    endDocType : function () {\r\n        if (!this.dtd) return this;\r\n        this.write('>');\r\n        return this;\r\n    },\r\n\r\n    writePI : function (name, content) {\r\n        return this.startPI(name).text(content).endPI()\r\n    },\r\n\r\n    startPI : function (name) {\r\n        name = strval(name);\r\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\r\n        if (this.pi) return this;\r\n        if (this.attributes) this.endAttributes();\r\n        if (this.started_write) this.indenter();\r\n        this.write('<?', name);\r\n        this.pi = 1;\r\n        this.started_write = true;\r\n        return this;\r\n    },\r\n\r\n    endPI : function () {\r\n        if (!this.pi) return this;\r\n        this.write('?>');\r\n        this.pi = 0;\r\n        return this;\r\n    },\r\n\r\n    writeCData : function (content) {\r\n        return this.startCData().text(content).endCData();\r\n    },\r\n\r\n    startCData : function () {\r\n        if (this.cdata) return this;\r\n        if (this.attributes) this.endAttributes();\r\n        this.indenter();\r\n        this.write('<![CDATA[');\r\n        this.cdata = 1;\r\n        this.started_write = true;\r\n        return this;\r\n    },\r\n\r\n    endCData : function () {\r\n        if (!this.cdata) return this;\r\n        this.write(']]>');\r\n        this.cdata = 0;\r\n        return this;\r\n    },\r\n\r\n    writeRaw : function(content) {\r\n        content = strval(content);\r\n        if (!this.tags && !this.comment && !this.pi && !this.cdata) return this;\r\n        if (this.attributes && this.attribute) {\r\n            ++this.texts;\r\n            this.write(content.replace('&', '&amp;').replace('\"', '&quot;'));\r\n            return this;\r\n        } else if (this.attributes && !this.attribute) {\r\n            this.endAttributes();\r\n        }\r\n        ++this.texts;\r\n        this.write(content);\r\n        this.started_write = true;\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nmodule.exports = XMLWriter;\r\n", "module.exports = require('./lib/xml-writer.js');\r\n", "/**\r\n * Graphology Common GEXF Writer\r\n * ==============================\r\n *\r\n * GEXF writer working for both node.js & the browser.\r\n */\r\nvar isGraph = require('graphology-utils/is-graph'),\r\n    XMLWriter = require('xml-writer');\r\n\r\n// TODO: options => prettyPrint, nodeModel, edgeModel\r\n// TODO: handle object in color, position with object for viz\r\n\r\n/**\r\n * Constants.\r\n */\r\nvar GEXF_NAMESPACE = 'http://www.gexf.net/1.2draft',\r\n    GEXF_VIZ_NAMESPACE = 'http:///www.gexf.net/1.1draft/viz';\r\n\r\nvar DEFAULTS = {\r\n  encoding: 'UTF-8',\r\n  pretty: true\r\n};\r\n\r\n// var VALID_GEXF_TYPES = new Set([\r\n//   'integer',\r\n//   'long',\r\n//   'double',\r\n//   'float',\r\n//   'boolean',\r\n//   'liststring',\r\n//   'string',\r\n//   'anyURI'\r\n// ]);\r\n\r\nvar VIZ_RESERVED_NAMES = new Set([\r\n  'color',\r\n  'size',\r\n  'x',\r\n  'y',\r\n  'z',\r\n  'shape',\r\n  'thickness'\r\n]);\r\n\r\nvar RGBA_TEST = /^\\s*rgba?\\s*\\(/i,\r\n    RGBA_MATCH = /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*(?:,\\s*([.0-9]*))?\\)\\s*$/;\r\n\r\n/**\r\n * Function used to transform a CSS color into a RGBA object.\r\n *\r\n * @param  {string} value - Target value.\r\n * @return {object}\r\n */\r\nfunction CSSColorToRGBA(value) {\r\n  if (!value || typeof value !== 'string')\r\n    return {};\r\n\r\n  if (value[0] === '#') {\r\n    value = value.slice(1);\r\n\r\n    return (value.length === 3) ?\r\n      {\r\n        r: parseInt(value[0] + value[0], 16),\r\n        g: parseInt(value[1] + value[1], 16),\r\n        b: parseInt(value[2] + value[2], 16)\r\n      } :\r\n      {\r\n        r: parseInt(value[0] + value[1], 16),\r\n        g: parseInt(value[2] + value[3], 16),\r\n        b: parseInt(value[4] + value[5], 16)\r\n      };\r\n  }\r\n  else if (RGBA_TEST.test(value)) {\r\n    var result = {};\r\n\r\n    value = value.match(RGBA_MATCH);\r\n    result.r = +value[1];\r\n    result.g = +value[2];\r\n    result.b = +value[3];\r\n\r\n    if (value[4])\r\n      result.a = +value[4];\r\n\r\n    return result;\r\n  }\r\n\r\n  return {};\r\n}\r\n\r\n/**\r\n * Function used to map an element's attributes to a standardized map of\r\n * GEXF expected properties (label, viz, attributes).\r\n *\r\n * @param  {string} type       - The element's type\r\n * @param  {object} attributes - The element's attributes.\r\n * @return {object}\r\n */\r\nfunction DEFAULT_ELEMENT_REDUCER(type, attributes) {\r\n  var output = {},\r\n      name;\r\n\r\n  for (name in attributes) {\r\n    if (name === 'label') {\r\n      output.label = attributes.label;\r\n    }\r\n    else if (type === 'edge' && name === 'weight') {\r\n      output.weight = attributes.weight;\r\n    }\r\n    else if (VIZ_RESERVED_NAMES.has(name)) {\r\n      output.viz = output.viz || {};\r\n      output.viz[name] = attributes[name];\r\n    }\r\n    else {\r\n      output.attributes = output.attributes || {};\r\n      output.attributes[name] = attributes[name];\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nvar DEFAULT_NODE_REDUCER = DEFAULT_ELEMENT_REDUCER.bind(null, 'node'),\r\n    DEFAULT_EDGE_REDUCER = DEFAULT_ELEMENT_REDUCER.bind(null, 'edge');\r\n\r\n/**\r\n * Function used to check whether the given integer is 32 bits or not.\r\n *\r\n * @param  {number} number - Target number.\r\n * @return {boolean}\r\n */\r\nfunction is32BitInteger(number) {\r\n  return number <= 0x7FFFFFFF && number >= -0x7FFFFFFF;\r\n}\r\n\r\n/**\r\n * Function used to detect a JavaScript's value type in the GEXF model.\r\n *\r\n * @param  {any}    value - Target value.\r\n * @return {string}\r\n */\r\nfunction detectValueType(value) {\r\n  if (Array.isArray(value))\r\n    return 'liststring';\r\n  if (typeof value === 'boolean')\r\n    return 'boolean';\r\n  if (typeof value === 'object')\r\n    return 'string';\r\n\r\n  // Numbers\r\n  if (typeof value === 'number') {\r\n\r\n    // Integer\r\n    if (value === (value | 0)) {\r\n\r\n      // Long (JavaScript integer can go up to 53 bit)?\r\n      return is32BitInteger(value) ? 'integer' : 'long';\r\n    }\r\n\r\n    // JavaScript numbers are 64 bit float, hence the double\r\n    return 'double';\r\n  }\r\n\r\n  return 'string';\r\n}\r\n\r\n/**\r\n * Function used to cast the given value into the given type.\r\n *\r\n * @param  {string} type  - Target type.\r\n * @param  {any}    value - Value to cast.\r\n * @return {string}\r\n */\r\nfunction cast(type, value) {\r\n  if (type === 'liststring' && Array.isArray(value))\r\n    return value.join('|');\r\n  return '' + value;\r\n}\r\n\r\n/**\r\n * Function used to collect data from a graph's nodes.\r\n *\r\n * @param  {Graph}    graph   - Target graph.\r\n * @param  {function} reducer - Function reducing the nodes attributes.\r\n * @return {array}\r\n */\r\nfunction collectNodeData(graph, reducer) {\r\n  var nodes = graph.nodes(),\r\n      data;\r\n\r\n  for (var i = 0, l = nodes.length; i < l; i++) {\r\n    data = reducer(graph.getNodeAttributes(nodes[i]));\r\n    data.key = nodes[i];\r\n    nodes[i] = data;\r\n  }\r\n\r\n  return nodes;\r\n}\r\n\r\n/**\r\n * Function used to collect data from a graph's edges.\r\n *\r\n * @param  {Graph}    graph   - Target graph.\r\n * @param  {function} reducer - Function reducing the edges attributes.\r\n * @return {array}\r\n */\r\nfunction collectEdgeData(graph, reducer) {\r\n  var edges = graph.edges(),\r\n      data;\r\n\r\n  for (var i = 0, l = edges.length; i < l; i++) {\r\n    data = reducer(graph.getEdgeAttributes(edges[i]));\r\n    data.key = edges[i];\r\n    data.source = graph.source(edges[i]);\r\n    data.target = graph.target(edges[i]);\r\n    data.undirected = graph.undirected(edges[i]);\r\n    edges[i] = data;\r\n  }\r\n\r\n  return edges;\r\n}\r\n\r\n/**\r\n * Function used to infer the model of the graph's nodes or edges.\r\n *\r\n * @param  {array} elements - The graph's relevant elements.\r\n * @return {array}\r\n */\r\nfunction inferModel(elements) {\r\n  var model = {},\r\n      attributes,\r\n      type,\r\n      k;\r\n\r\n  // Testing every attributes\r\n  for (var i = 0, l = elements.length; i < l; i++) {\r\n    attributes = elements[i].attributes;\r\n\r\n    if (!attributes)\r\n      continue;\r\n\r\n    for (k in attributes) {\r\n      type = detectValueType(attributes[k]);\r\n\r\n      if (!model[k])\r\n        model[k] = type;\r\n      else {\r\n        if (model[k] === 'integer' && type === 'long')\r\n          model[k] = type;\r\n        else if (model[k] !== type)\r\n          model[k] = 'string';\r\n      }\r\n    }\r\n  }\r\n\r\n  // TODO: check default values\r\n  return model;\r\n}\r\n\r\n/**\r\n * Function used to write a model.\r\n *\r\n * @param {XMLWriter} writer     - The writer to use.\r\n * @param {object}    model      - Model to write.\r\n * @param {string}    modelClass - Class of the model.\r\n */\r\nfunction writeModel(writer, model, modelClass) {\r\n  var name;\r\n\r\n  if (!Object.keys(model).length)\r\n    return;\r\n\r\n  writer.startElement('attributes');\r\n  writer.writeAttribute('class', modelClass);\r\n\r\n  for (name in model) {\r\n    writer.startElement('attribute');\r\n    writer.writeAttribute('id', name);\r\n    writer.writeAttribute('title', name);\r\n    writer.writeAttribute('type', model[name]);\r\n    writer.endElement();\r\n  }\r\n\r\n  writer.endElement();\r\n}\r\n\r\nfunction writeElements(writer, type, model, elements) {\r\n  var emptyModel = !Object.keys(model).length,\r\n      element,\r\n      name,\r\n      color,\r\n      edgeType,\r\n      attributes,\r\n      viz,\r\n      k,\r\n      i,\r\n      l;\r\n\r\n  writer.startElement(type + 's');\r\n\r\n  for (i = 0, l = elements.length; i < l; i++) {\r\n    element = elements[i];\r\n    attributes = element.attributes;\r\n    viz = element.viz;\r\n\r\n    writer.startElement(type);\r\n    writer.writeAttribute('id', element.key);\r\n\r\n    if (type === 'edge') {\r\n      edgeType = element.undirected ? 'undirected' : 'directed';\r\n\r\n      if (edgeType !== writer.defaultEdgeType)\r\n        writer.writeAttribute('type', edgeType);\r\n\r\n      writer.writeAttribute('source', element.source);\r\n      writer.writeAttribute('target', element.target);\r\n\r\n      if ('weight' in element)\r\n        writer.writeAttribute('weight', element.weight);\r\n    }\r\n\r\n    if (element.label)\r\n      writer.writeAttribute('label', element.label);\r\n\r\n    if (!emptyModel && attributes) {\r\n      writer.startElement('attvalues');\r\n\r\n      for (name in model) {\r\n        if (name in attributes) {\r\n          writer.startElement('attvalue');\r\n          writer.writeAttribute('for', name);\r\n          writer.writeAttribute('value', cast(model[name], attributes[name]));\r\n          writer.endElement();\r\n        }\r\n      }\r\n\r\n      writer.endElement();\r\n    }\r\n\r\n    if (viz) {\r\n\r\n      //-- 1) Color\r\n      if (viz.color) {\r\n        color = CSSColorToRGBA(viz.color);\r\n\r\n        writer.startElementNS('viz', 'color');\r\n\r\n        for (k in color)\r\n          writer.writeAttribute(k, color[k]);\r\n\r\n        writer.endElement();\r\n      }\r\n\r\n      //-- 2) Size\r\n      if ('size' in viz) {\r\n        writer.startElementNS('viz', 'size');\r\n        writer.writeAttribute('value', viz.size);\r\n        writer.endElement();\r\n      }\r\n\r\n      //-- 3) Position\r\n      if ('x' in viz || 'y' in viz || 'z' in viz) {\r\n        writer.startElementNS('viz', 'position');\r\n\r\n        if ('x' in viz)\r\n          writer.writeAttribute('x', viz.x);\r\n\r\n        if ('y' in viz)\r\n          writer.writeAttribute('y', viz.y);\r\n\r\n        if ('z' in viz)\r\n          writer.writeAttribute('z', viz.z);\r\n\r\n        writer.endElement();\r\n      }\r\n\r\n      //-- 4) Shape\r\n      if (viz.shape) {\r\n        writer.startElementNS('viz', 'shape');\r\n        writer.writeAttribute('value', viz.shape);\r\n        writer.endElement();\r\n      }\r\n\r\n      //-- 5) Thickness\r\n      if ('thickness' in viz) {\r\n        writer.startElementNS('viz', 'thickness');\r\n        writer.writeAttribute('value', viz.thickness);\r\n        writer.endElement();\r\n      }\r\n    }\r\n\r\n    writer.endElement();\r\n  }\r\n\r\n  writer.endElement();\r\n}\r\n\r\n/**\r\n * Function taking a graphology instance & outputting a gexf string.\r\n *\r\n * @param  {Graph}  graph        - Target graphology instance.\r\n * @param  {object} options      - Options:\r\n * @param  {string}   [encoding]   - Character encoding.\r\n * @paral  {boolean}  [pretty]     - Whether to pretty print output.\r\n * @return {string}              - GEXF string.\r\n */\r\nmodule.exports = function write(graph, options) {\r\n  if (!isGraph(graph))\r\n    throw new Error('graphology-gexf/writer: invalid graphology instance.');\r\n\r\n  options = options || {};\r\n\r\n  var indent = options.pretty === false ? false : '  ';\r\n\r\n  var writer = new XMLWriter(indent);\r\n\r\n  writer.startDocument('1.0', options.encoding || DEFAULTS.encoding);\r\n\r\n  // Starting gexf\r\n  writer.startElement('gexf');\r\n  writer.writeAttribute('version', '1.2');\r\n  writer.writeAttribute('xmlns', GEXF_NAMESPACE);\r\n  writer.writeAttribute('xmlns:viz', GEXF_VIZ_NAMESPACE);\r\n\r\n  // Processing meta\r\n  writer.startElement('meta');\r\n  var graphAttributes = graph.getAttributes();\r\n\r\n  if (graphAttributes.lastModifiedDate)\r\n    writer.writeAttribute('lastmodifieddate', graphAttributes.lastModifiedDate);\r\n\r\n  for (var k in graphAttributes) {\r\n    if (k !== 'lastModifiedDate')\r\n      writer.writeElement(k, graphAttributes[k]);\r\n  }\r\n\r\n  writer.endElement();\r\n  writer.startElement('graph');\r\n  writer.defaultEdgeType = graph.type === 'mixed' ?\r\n    'directed' :\r\n    graph.type;\r\n\r\n  writer.writeAttribute(\r\n    'defaultedgetype',\r\n    writer.defaultEdgeType\r\n  );\r\n\r\n  // Processing model\r\n  var nodes = collectNodeData(graph, DEFAULT_NODE_REDUCER),\r\n      edges = collectEdgeData(graph, DEFAULT_EDGE_REDUCER);\r\n\r\n  var nodeModel = inferModel(nodes);\r\n\r\n  writeModel(writer, nodeModel, 'node');\r\n\r\n  var edgeModel = inferModel(edges);\r\n\r\n  writeModel(writer, edgeModel, 'edge');\r\n\r\n  // Processing nodes\r\n  writeElements(writer, 'node', nodeModel, nodes);\r\n\r\n  // Processing edges\r\n  writeElements(writer, 'edge', edgeModel, edges);\r\n\r\n  return writer.toString();\r\n};\r\n", "/**\r\n * Graphology Browser GEXF Endpoint\r\n * =================================\r\n *\r\n * Endpoint gathering both parser & writer for the browser.\r\n */\r\nexports.parse = require('./parser.js');\r\nexports.write = require('../common/writer.js');\r\n"],
  "mappings": "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",
  "names": ["require_xml_writer"]
}
